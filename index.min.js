"use strict";function vectic(a){var b=this;return a=a||{},this.targetObject=a.target,this.vecticID=a.vecticID,this.firebaseLib=void 0,this.vecticRef=void 0,"undefined"!=typeof Firebase&&(this.firebaseLib=Firebase),Object.defineProperty(this,"pathBase",{get:function(){return"http://vecticdev.firebaseio.com/"}}),Object.defineProperty(this,"pathVectic",{get:function(){return this.pathBase+"vectic/"}}),Object.defineProperty(this,"pathTemplate",{get:function(){return this.pathBase+"template/"}}),Object.defineProperty(this,"pathPalette",{get:function(){return this.pathBase+"palette/"}}),this.targetObject?this.vecticID?(this.rootID="v"+this.vecticID+"_id"+(_vecticUID+=1),this.init=function(){this.initHTML(),this.initFirebase()},this.initHTML=function(){return this.targetObject?void this.targetObject.html(_htmlBoiler):console.error("vectic: Target object missing")},this.getObjectsRef=function(){return this.vecticRef?this.vecticRef.child("objects"):console.error("vectic.getObjectsRef: Could not find vecticRef")},this.getTemplatesRef=function(){return this.vecticRef?this.vecticRef.child("templates"):console.error("vectic.getTemplatesRef: Could not find vecticRef")},this.getPalettesRef=function(){return this.vecticRef?this.vecticRef.child("palettes"):console.error("vectic.getPalettesRef: Could not find vecticRef")},this.initFirebase=function(){return this.firebaseLib?this.vecticID?(this.vecticRef=new this.firebaseLib(b.pathVectic+this.vecticID),this.vecticObjectsRef=this.getObjectsRef(),this.vecticTemplatesRef=this.getTemplatesRef(),this.vecticPalettesRef=this.getPalettesRef(),void this.setVecticHooks()):console.error("vectic: Missing vecticID"):console.error("vectic: Missing Firebase library")},this.setVecticHooks=function(){return this.vecticRef?(this.vecticObjectsRef.off("child_added",this.addObject,this.refError),this.vecticTemplatesRef.off("child_added",this.addTemplate,this.refError),this.vecticPalettesRef.off("child_added",this.addPalette,this.refError),this.vecticObjectsRef.on("child_added",this.addObject,this.refError),this.vecticTemplatesRef.on("child_added",this.addTemplate,this.refError),void this.vecticPalettesRef.on("child_added",this.addPalette,this.refError)):console.error("vectic: Could not create hooks, not connected to Database")},this.addObject=function(a,b){a.key(),a.val()},this.addTemplate=function(a,b){a.key(),a.val()},this.addPalette=function(a,b){a.key(),a.val()},void(this.refError=function(){})):console.error("vectic(): missing vecticID"):console.error("vectic(): missing target jQuery object")}var _vecticUID=0,_htmlBoiler="";_htmlBoiler+='<span class="svgContainer">',_htmlBoiler+='  <svg version="1.1" xmlns="http://www.w3.org/2000/svg">',_htmlBoiler+='    <defs id="palettes"></defs>',_htmlBoiler+='    <defs id="templates"></defs>',_htmlBoiler+='    <g id="objects">',_htmlBoiler+="      <!-- todo: test place holder -->",_htmlBoiler+='      <use id="oobject1" xlink:href="#ttemplatelistitem1" x="5" y="5" width="10" height="20"/>',_htmlBoiler+="    </g>",_htmlBoiler+="  </svg>",_htmlBoiler+="  <style>",_htmlBoiler+="    .svgContainer {",_htmlBoiler+="      -webkit-touch-callout: none !important;",_htmlBoiler+="      -webkit-user-select: none !important;",_htmlBoiler+="      -khtml-user-select: none !important;",_htmlBoiler+="      -moz-user-select: none !important;",_htmlBoiler+="      -ms-user-select: none !important;",_htmlBoiler+="      user-select: none !important;",_htmlBoiler+="    }",_htmlBoiler+="    .svgContainer svg:not([width]) {",_htmlBoiler+="      width: 100% !important;",_htmlBoiler+="    }",_htmlBoiler+="  </style>",_htmlBoiler+="</span>";